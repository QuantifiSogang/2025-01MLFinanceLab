## Mission Impossible : The Flawless Backtest

가장 협의적 관점에서 정의한다면 '백테스트란, 어떤 전략을 과거 시점 구간의 데이터에 적용했더라면 어떤 성과를 나타냈을까?' 하는 것을 역사적으로 시뮬레이션해 보는 것이다.
그렇기 때문에 백테스트는 실험이 아니라 그저 가상적인 것이다.
버클리 연구소와 같은 물리 실험실에서는 환경 변수를 통제한 후 실험을 반복해 정밀한 원인-결과 관계를 추론할 수 있다.
이에 반해 백테스트는 실험이 아니므로 아무것도 증명할 수 없다.
백테스트는 아무것도 보장하지 않으며, 개조한 드러리언 DMC-12를 타고 과거를 거슬러 올라가도 백테스트에서 얻은 Sharpe Ratio를 절대로 얻지 못한다.
랜덤 추출이라면 아마 달랐을지도 모른다. 과거는 자신을 반복하지 않는다.

그렇다면 백테스트가 왜 필요한가? 백테스트는 Betting size, Turnover, 비용에 대한 복원력, 주어진 시나리오에 대한 행동 등의 여러 변수에 관한 확인 검사다.
좋은 백테스트는 아주 유용하지만 백테스트를 잘한다는 것은 매우 힘들다. 
2014년 도이치 은행에서 Yin Luo가 이끄는 금융 분석 팀이 '정량 투자의 일곱 가지 죄악'이라는 제목의 연구서를 출간했다. 
업계에 있는 모든 사람이 신중하게 읽어 보길 권하는 보고서로서 그래픽이 풍부하고 쉽게 되어 있다.
거기에서 그 팀은 다음의 유력한 용의 대상들을 열거하고 있다.

1. Survivorship bias : Asset Universe를 지금 생존하는 것을 사용함으로써 파산되거나 상장 폐지된 증권 등에 대한 정보를 무시한다.
2. Look-ahead bias : 시뮬레이션이 실행된 당시에는 공개되지 않은 정보를 이용해 시뮬레이션 결정이 내려졌을 수 있다. 각 데이터 포인트의 타임스탬프를 확인하라. 배포 날짜와 배포 지연, 소급 수정 등을 고려해야 한다.
3. Storytelling : 특정 랜덤 패턴을 정당화하고자 사후에 스토리를 지어 낸다.
4. Data Mining and Data Snooping : 테스트 데이터를 활용해 모델을 학습한다.
5. Transaction cost : 거래 비용을 시뮬레이션하는 것은 매우 어렵다. 정확한 거래 비용을 산출하려면 거래 장부를 직접 보는 수밖에 없기 때문이다.
6. Outlier : 과거에 관측되었지만 다시는 나타날 것 같지 않은 소수 극단적 이상값에 바탕을 두고 전략을 수립한다.
7. Shorting : 현금성 증권에 공매도 포지션을 취하려면 증권 대출자를 찾아야 한다. 대출 비용과 가용 공매도 규모는 일반적으로 알려져 있지 않고, 인적 관계, 가용 재고, 상대적 수요 등에 따라 결정된다.

학술지에 기고한 많은 논문이 항상 저지르는 몇 가지 오류다. 또 다른 흔한 오류에는 비표준 방법을 사용해 성과를 측정하는 것이다. 
즉, 숨겨진 리스크를 무시하고 다른 척도는 무시한 채 수익률에만 집중하는 식이다.
또한 상관관계를 인과관계로 혼동하고, 대표성이 없는 기간을 선정하거나, 예기치 않은 상황을 고려하지 않거나, loss cut이나 margin call의 존재를 무시하거나, 조달 비용을 무시하고 실무적 측면을 망각한다.
이외에도 많이 있지만, 더 나열해 봐야 의미가 없는데 바로 다음 절의 제목이기도 해서 생략한다.